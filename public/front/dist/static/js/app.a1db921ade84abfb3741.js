webpackJsonp([4],{"/4+X":function(t,e){},"6zsv":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("//Fk"),o=n.n(i),r=n("7+uW"),a=n("/ocq"),s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-container",[n("el-header",[n("h1",{staticStyle:{"font-style":"italic"}},[t._v("i Note")])]),t._v(" "),n("el-main",{style:t.containerStyle},[n("div",{staticClass:"bgImg",style:t.containerStyle},[n("el-form",{ref:"form",style:t.loginForm,attrs:{model:t.form,"label-width":"80px",rules:t.rules}},[n("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[n("el-input",{model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.login("form")}}},[t._v("登录")]),t._v(" "),n("el-button",{on:{click:t.addUser}},[t._v("注册")])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var u=n("VU/8")({name:"Login",data:function(){return{msg:"Welcome to Your Vue.js App",loginForm:{},form:{userName:"",password:""},rules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:6,message:"长度2到6个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},computed:{containerStyle:function(){var t=this.$store.state.windowHeight;return this.$store.state.windowWidth,{height:t+"px"}}},mounted:function(){var t=this.$store.state.windowHeight,e=this.$store.state.windowWidth;this.containerStyle.height=t+"px",this.loginForm=e<400?{width:"100%",height:"50%",position:"fixed",top:"25%",right:"2%",opacity:"0.6"}:{width:"35%",height:"35%",position:"fixed",top:"15%",right:"4%",opacity:"0.6"},this.$route.params.originRoute&&this.$message({message:"你还未登录，登陆后才能操作哦",type:"warning"})},methods:{login:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$store.state.axiosInstance({method:"post",url:"koa2vue/publicService/login",data:e.form}).then(function(t){if("S"==t.data.code){e.$store.commit("setCurrUser",t.data.user.userName);var n=e.$route.params.originRoute;n&&(n.name="layout"),e.$router.push({name:"layout",params:{name:t.data.user.userName}})}})})},addUser:function(){}}},s,!1,function(t){n("6zsv")},"data-v-7467a9c4",null).exports,l={data:function(){return{asideWidth:"",mainWidth:"",defaultOpen:["1"],containerStyle:{},name:""}},methods:{routeTo:function(t,e){this.defaultOpen=[e],this.$router.push(t)}},mounted:function(){var t=this.$store.state.windowHeight,e=this.$store.state.windowWidth;this.containerStyle={height:t-60+"px"},this.asideWidth=e/10+"px",this.mainWidth=e/90+"px",this.name=window.localStorage.getItem("username")}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",[n("el-row",[n("el-col",{attrs:{span:1}},[n("h1",[t._v("iNote")])]),t._v(" "),n("el-col",{attrs:{span:2,offset:21}},[n("h4",[t._v(t._s(t.name))])])],1)],1),t._v(" "),n("el-container",{style:t.containerStyle},[n("el-aside",{attrs:{width:t.asideWidth}},[n("el-menu",{style:{width:t.asideWidth},attrs:{"default-openeds":t.defaultOpen,"background-color":"#2b2b2f","text-color":"#fff"}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-message"}),t._v("导航一")]),t._v(" "),n("el-menu-item",{attrs:{index:"1-1"},on:{click:function(e){t.routeTo("/koa2vue","1")}}},[t._v("选项1")]),t._v(" "),n("el-menu-item",{attrs:{index:"1-2"},on:{click:function(e){t.routeTo("/koa2vue/myArticlesList","1")}}},[t._v("Note List")]),t._v(" "),n("el-menu-item",{attrs:{index:"1-3"},on:{click:function(e){t.routeTo("/koa2vue/myArticlesList","1")}}},[t._v("选项3")])],2),t._v(" "),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-menu"}),t._v("导航二")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-1"},on:{click:function(e){t.$router.push({name:"publish"})}}},[t._v("Publish Note")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-2"},on:{click:function(e){t.routeTo("/koa2vue/grid","2")}}},[t._v("Grid列表")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-3"},on:{click:function(e){t.routeTo("/koa2vue/myArticlesList","2")}}},[t._v("选项4-1")])],2),t._v(" "),n("el-submenu",{attrs:{index:"3"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-setting"}),t._v("导航三")]),t._v(" "),n("el-menu-item",{attrs:{index:"3-1"}},[t._v("选项1")]),t._v(" "),n("el-menu-item",{attrs:{index:"3-2"}},[t._v("选项2")]),t._v(" "),n("el-menu-item",{attrs:{index:"3-3"}},[t._v("选项3")]),t._v(" "),n("el-menu-item",{attrs:{index:"3-4"}},[t._v("选项4")])],2)],1)],1),t._v(" "),n("el-main",{style:{width:t.mainWidth}},[n("router-view")],1)],1)],1)},staticRenderFns:[]};var m=n("VU/8")(l,c,!1,function(t){n("/4+X")},"data-v-31333f64",null).exports;r.default.use(a.a);var d=new a.a({routes:[{path:"/",redirect:"/koa2vue/myArticlesList"},{path:"/login",name:"login",component:u},{path:"/koa2vue",name:"layout",component:m,children:[{path:"articleDetail",name:"articleDetail",component:function(){return n.e(0).then(n.bind(null,"zvDi"))}},{path:"grid",name:"grid",component:function(t){n.e(2).then(function(){var e=[n("9+e2")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"myArticlesList",name:"myArticlesList",component:function(){return n.e(0).then(n.bind(null,"gntg"))}},{path:"publish",name:"publish",component:function(t){return n.e(1).then(function(){var e=[n("ZFtp")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}]}),h={name:"App",mounted:function(){var t=window.innerHeight,e=window.innerWidth;t||(t=document.documentElement.clientHeight,e=document.documentElement.clientWidth),console.log(e+"-------------"+t),this.$store.commit("setWindowH",t),this.$store.commit("setWindowW",e)}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var f=n("VU/8")(h,p,!1,function(t){n("q5S8")},null,null).exports,v=n("zL8q"),g=n.n(v),w=n("mvHQ"),_=n.n(w),x=n("NYxO");r.default.use(x.a);var y=new x.a.Store({state:{currentUser:"",axiosInstance:{},windowWidth:"",windowHeight:"",curArticle:{}},mutations:{setCurrUser:function(t,e){window.localStorage.setItem("username",e),t.currentUser=e},setAxiosInstance:function(t,e){t.axiosInstance=e},setWindowH:function(t,e){t.windowHeight=e},setWindowW:function(t,e){t.windowWidth=e},setCurArticle:function(t,e){var n=_()(e);window.localStorage.setItem("curArticle",n),t.curArticle=e}},getters:{}}),b=n("mtWM"),W=n.n(b);n("tvR6");r.default.config.productionTip=!1,r.default.use(g.a),new r.default({el:"#app",router:d,store:y,components:{App:f},template:"<App/>",mounted:function(){var t=this,e="";var n=W.a.create({baseURL:e});n.interceptors.response.use(function(e){return"E"==e.data.code&&"login"==e.data.redirect?(t.$router.push({name:"login"}),o.a.reject({message:e.data.msg,status:500,statusText:e.data.msg})):e},function(t){return o.a.reject(t)}),y.commit("setAxiosInstance",n)}})},q5S8:function(t,e){},tvR6:function(t,e){}},["NHnr"]);